# 测试指南

> 版本: v0.1.0 MVP
> 测试日期: 2025-01-14

## 🚀 启动应用

```bash
cd apps/desktop
pnpm run tauri dev
```

---

## ✅ 测试清单

### 1. 图片导入测试

#### 1.1 本地文件导入
- [ ] 点击Header的📁按钮
- [ ] 选择单张图片，确认导入成功
- [ ] 选择多张图片，确认批量导入
- [ ] 查看右下角导入进度面板
- [ ] 确认Toast通知显示成功数量
- [ ] 重复导入相同图片，确认显示"跳过重复"

#### 1.2 拖拽导入
- [ ] 从文件管理器拖拽单张图片到窗口
- [ ] 确认显示蓝色拖拽遮罩
- [ ] 释放鼠标，确认导入成功
- [ ] 拖拽多张图片，确认批量导入
- [ ] 拖拽非图片文件，确认被过滤

#### 1.3 URL导入
- [ ] 点击Header的🔗按钮
- [ ] 输入图片URL，点击"添加"
- [ ] 添加多个URL
- [ ] 点击"📋 粘贴"测试批量粘贴
- [ ] 点击"导入"，查看下载进度
- [ ] 确认导入成功的图片显示在网格中

#### 1.4 空白状态
- [ ] 删除所有图片
- [ ] 确认显示DropZone区域
- [ ] 拖拽图片到DropZone
- [ ] 点击"选择文件"按钮

### 2. 图片展示测试

#### 2.1 网格视图
- [ ] 确认图片以网格形式显示
- [ ] 鼠标悬停，确认卡片有动画效果
- [ ] 确认显示文件名和尺寸信息
- [ ] 滚动页面，确认流畅

#### 2.2 图片选择
- [ ] Cmd/Ctrl + 点击图片
- [ ] 确认选中状态（蓝色边框）
- [ ] 再次点击取消选择
- [ ] 选择多张图片

#### 2.3 图片详情
- [ ] 点击图片卡片
- [ ] 确认打开详情对话框
- [ ] 查看完整图片
- [ ] 确认显示文件信息（名称、尺寸、大小、使用次数）
- [ ] 点击"关闭"按钮

### 3. 标签管理测试

#### 3.1 创建标签
- [ ] 点击Sidebar标签区域的+按钮
- [ ] 输入标签名称
- [ ] 选择颜色（16种）
- [ ] 点击"创建"
- [ ] 确认标签出现在列表中

#### 3.2 删除标签
- [ ] 在标签管理器中点击标签的删除按钮
- [ ] 确认删除成功

#### 3.3 给图片添加标签
- [ ] 打开图片详情
- [ ] 在"添加标签"区域点击标签
- [ ] 确认标签添加到"当前标签"
- [ ] 点击标签的✕按钮移除
- [ ] 确认标签被移除

#### 3.4 标签筛选
- [ ] 在Sidebar点击某个标签
- [ ] 确认标签高亮显示
- [ ] 确认只显示有该标签的图片
- [ ] 再次点击标签取消筛选
- [ ] 确认显示所有图片

### 4. 搜索功能测试

#### 4.1 基础搜索
- [ ] 在Header搜索框输入文件名
- [ ] 确认实时显示搜索结果
- [ ] 清空搜索框，确认显示所有图片
- [ ] 输入不存在的关键词
- [ ] 确认显示"未找到匹配的表情包"

#### 4.2 拼音搜索
- [ ] 导入一张中文文件名的图片（如"测试.png"）
- [ ] 搜索"ceshi"
- [ ] 确认能找到该图片
- [ ] 搜索"cs"（首字母）
- [ ] 确认能找到该图片

#### 4.3 高级筛选
- [ ] 点击搜索框右侧的🔍按钮
- [ ] 确认打开筛选面板
- [ ] 选择文件类型（PNG/JPEG等）
- [ ] 点击"应用"
- [ ] 确认只显示该类型的图片
- [ ] 打开筛选面板，选择标签
- [ ] 确认只显示有该标签的图片
- [ ] 选择文件大小范围
- [ ] 确认筛选生效
- [ ] 点击"重置"清空筛选

### 5. 图片操作测试

#### 5.1 复制到剪贴板
- [ ] 打开图片详情
- [ ] 点击"📋 复制"按钮
- [ ] 确认显示"已复制到剪贴板"消息
- [ ] 打开其他应用（如聊天软件）
- [ ] Cmd/Ctrl + V 粘贴
- [ ] 确认图片成功粘贴

#### 5.2 删除图片
- [ ] 打开图片详情
- [ ] 点击"🗑️ 删除"按钮
- [ ] 确认显示确认对话框
- [ ] 点击"确定"
- [ ] 确认图片从网格中消失
- [ ] 确认显示"已删除"消息

### 6. UI交互测试

#### 6.1 响应式布局
- [ ] 调整窗口大小
- [ ] 确认布局自适应
- [ ] 确认最小宽度800px生效

#### 6.2 动画效果
- [ ] 鼠标悬停图片卡片
- [ ] 确认卡片上浮和阴影变化
- [ ] 打开对话框
- [ ] 确认淡入和滑入动画
- [ ] Toast通知
- [ ] 确认从右侧滑入

#### 6.3 加载状态
- [ ] 导入大量图片
- [ ] 确认显示loading状态
- [ ] 搜索时确认有loading反馈

### 7. 边界情况测试

#### 7.1 空状态
- [ ] 删除所有图片，确认显示DropZone
- [ ] 删除所有标签，确认显示"暂无标签"
- [ ] 搜索不存在的内容，确认显示空状态

#### 7.2 错误处理
- [ ] 输入无效的URL
- [ ] 确认显示错误提示
- [ ] 导入非图片文件
- [ ] 确认被过滤或显示错误

#### 7.3 性能测试
- [ ] 导入100+张图片
- [ ] 确认滚动流畅
- [ ] 搜索响应及时
- [ ] 内存占用合理

---

## 🐛 问题报告模板

如果发现问题，请记录以下信息：

```
### 问题描述
[简要描述问题]

### 复现步骤
1. 
2. 
3. 

### 预期行为
[应该发生什么]

### 实际行为
[实际发生了什么]

### 环境信息
- 操作系统: 
- 应用版本: v0.1.0
- 浏览器/Tauri版本: 

### 截图
[如果可能，添加截图]

### 控制台日志
[如果有错误，粘贴控制台日志]
```

---

## 📊 测试结果记录

### 功能测试结果

| 功能模块 | 测试项 | 通过 | 失败 | 备注 |
|---------|-------|------|------|------|
| 图片导入 | 本地文件 | ⬜ | ⬜ | |
| 图片导入 | 拖拽 | ⬜ | ⬜ | |
| 图片导入 | URL | ⬜ | ⬜ | |
| 图片展示 | 网格视图 | ⬜ | ⬜ | |
| 图片展示 | 详情对话框 | ⬜ | ⬜ | |
| 标签管理 | 创建/删除 | ⬜ | ⬜ | |
| 标签管理 | 添加到图片 | ⬜ | ⬜ | |
| 标签管理 | 筛选 | ⬜ | ⬜ | |
| 搜索功能 | 基础搜索 | ⬜ | ⬜ | |
| 搜索功能 | 拼音搜索 | ⬜ | ⬜ | |
| 搜索功能 | 高级筛选 | ⬜ | ⬜ | |
| 图片操作 | 复制 | ⬜ | ⬜ | |
| 图片操作 | 删除 | ⬜ | ⬜ | |

### 性能测试结果

| 测试场景 | 数据量 | 响应时间 | 内存占用 | 结果 |
|---------|-------|---------|---------|------|
| 启动应用 | - | | | ⬜ |
| 导入图片 | 10张 | | | ⬜ |
| 导入图片 | 100张 | | | ⬜ |
| 搜索 | 100张 | | | ⬜ |
| 滚动 | 100张 | | | ⬜ |

---

## 🎯 测试优先级

### P0 - 必须通过
- 图片导入（本地、拖拽）
- 图片展示
- 基础搜索
- 标签管理

### P1 - 重要功能
- URL导入
- 拼音搜索
- 高级筛选
- 复制/删除

### P2 - 增强功能
- 动画效果
- 性能优化
- 边界情况

---

## 📝 测试注意事项

1. **数据备份**: 测试前备份重要数据
2. **清理数据**: 每次测试前清理数据库
3. **多次测试**: 每个功能至少测试3次
4. **记录问题**: 发现问题立即记录
5. **性能监控**: 使用开发者工具监控性能

---

## 🔧 调试技巧

### 查看控制台日志
- 打开开发者工具: `Cmd/Ctrl + Shift + I`
- 查看Console标签页
- 查看Network标签页（URL导入）

### 查看数据库
```bash
# 数据库位置
~/Library/Application Support/com.meme-manager.app/meme.db

# 使用SQLite查看
sqlite3 ~/Library/Application\ Support/com.meme-manager.app/meme.db
```

### 清理数据
```bash
# 删除数据库
rm -rf ~/Library/Application\ Support/com.meme-manager.app/

# 删除缓存
rm -rf ~/Library/Caches/com.meme-manager.app/
```

---

*祝测试顺利！🎉*
